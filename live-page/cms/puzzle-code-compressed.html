<style type="text/css">
@import url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css);@import url(https://fonts.googleapis.com/css?family=Didact+Gothic|Ubuntu:300,400,500,700|Josefin+Sans:100,300,400,600,700|Poiret+One|Questrial|Roboto:100,200,300,400,500,600,700,800,900&display=swap);*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-family:Roboto}:root{--width:calc(100vw/4 - 10px)}.pos-rel{position:relative}#game-over h3{color:#ce1d00}.keyboard-line.-last{margin:5px auto}.high-scores>.high-scores{margin:2px 1px}.scores-table{width:100%}.game{box-shadow:0 1px 4px rgba(0,0,0,.5);padding:15px;background-color:#ce1d00;border-radius:5px}.grid{display:grid;grid-template-columns:var(--width) var(--width) var(--width) var(--width);grid-template-rows:var(--width) var(--width) var(--width) var(--width);justify-content:center}.grid button{background-color:#cfcfcf;color:#000;font-size:24px;font-weight:700;border:1px solid #500;outline:0;cursor:pointer;background-position:center;background-size:contain}.footer{margin-top:15px;display:flex;justify-content:space-between}.footer button{border:none;font-size:20px;font-weight:700;border-radius:5px;box-shadow:0 1px 4px rgba(0,0,0,.5);padding:5px;width:80px;background-color:#d4ee9f;color:#033;outline:0;cursor:pointer}.footer button:hover{color:#d4ee9f;background-color:#033}.footer span{flex:1;text-align:center;font-size:20px;color:#d4ee9f;font-weight:700;margin:auto 0}.message{color:#aa3939;height:80px;display:none}div.form-group{padding:10px 5px}input.form-control{width:100%;border:1px solid #ce1d00;border-radius:5px;padding:10px;height:auto;font-size:14px}input.form-control:focus{border:1px solid #ce1d00}div.custom{padding:5px;font-size:14px;background:#fff;box-shadow:0 2px 2px 0 rgba(0,0,0,.2);margin:10px}input[type=submit]{background:#ce1d00;color:#fff;box-shadow:0 0 .2em #ddd;padding:10px 20px;border-radius:5px;border:none;width:50%;font-size:14px;font-weight:700}.formDiv{display:none}.formDiv.active{display:block}.keyboard-line{width:100%;display:flex;flex-flow:row nowrap;justify-content:center;margin:2px 0}div.keyboard{background:#c60038}.keyboard-button{width:calc(100vw/10);height:calc(100vw/10);color:#fff;background:0 0;border:none;box-shadow:0 0 .1em rgba(0,0,0,.6);transition:.1s}button.space{width:50vw;display:block;padding:10px 34px;background:0 0;border:none;box-shadow:0 0 .1em rgba(0,0,0,.6);color:#fff}div.space-bar{color:#fff;padding:2px}.highlighted{animation:highlight .1s linear}@keyframes highlight{0%{background:rgba(0,0,0,.3)}50%{background:rgba(0,0,0,.6)}100%{background:rgba(0,0,0,.3)}}#playButton{animation:colorized .1s linear}@keyframes colorized{0%{font-weight:400}50%{font-weight:700}100%{font-weight:400}}.error{color:red;font-size:10px;display:none}.error.active{display:block}table.scores-table{border:none;border-spacing:0}table.scores-table tbody tr td,table.scores-table thead tr th{padding:3px 1px;padding-left:20px;text-align:left}table.scores-table thead{background:#999696;color:#000}table.scores-table tbody tr:nth-child(even){background:#f7f7f7}table.scores-table tbody tr:first-child{color:#228b22;font-weight:700}.success{color:green;font-weight:700;font-style:italic}.backspace::after,.backspace::before,.uppercase::after,.uppercase::before{content:'';position:absolute}.backspace::before,.uppercase::before{width:8px;height:8px;background-color:transparent;border-top:2px solid #fff;border-left:2px solid #fff;top:40%;left:50%;transform:translate(-50%,-50%) rotate(45deg)}.backspace::after,.uppercase::after{width:2px;height:10px;background-color:#fff;top:48%;left:50%;transform:translate(-50%,-50%)}.backspace::before{transform:translate(-50%,-50%) rotate(-45deg);top:50%}.backspace::after{transform:translate(-50%,-50%) rotate(90deg);left:55%;top:50%}
</style>
<div class="-container"> <a href="https://www.facebook.com/sharer.php?u=https://aal4.adj.st/ng/ss/jumia-games?adjust_t=itk4eyn_9sytz8o&adjust_campaign=NG&adjust_adgroup=CS-20&adjust_creative=GA_PAGE&adjust_deeplink=jumia%253A%252F%252Fng%252Fss%252Fjumia-games&adjust_redirect=https%253A%252F%252Fwww.jumia.com.ng%252Fjumia-games">Share on FaceBook</a><div class="game"><div class="grid"> <button>1</button> <button>2</button> <button>3</button> <button>4</button> <button>5</button> <button>6</button> <button>7</button> <button>8</button> <button>9</button> <button>10</button> <button>11</button> <button>12</button> <button>13</button> <button>14</button> <button>15</button> <button></button></div><div class="footer"> <button>Play</button> <span id="move">Moves: 100</span> <span id="time">Time: 0</span></div></div><h1 class="message">You win!</h1><div class="custom howToPlay"> <b>How To Play:</b> Tap on boxes adjacent to the empty white box to move them around.</div><div class="custom formDiv"><div class="form"><form action="" id="game-over"><h3>You are a genius!</h3> <em>Your contact details will not be shared publicly.</em><div class="form-group"> <input type="text" name="name" id="name" class="form-control" placeholder="Full name"/></div> <input type="hidden" name="time" id="timerTicker" value="0"/> <input type="hidden" name="moves" id="movesB" value="0"/><div class="form-group"> <input type="text" name="email" id="email" class="form-control" placeholder="email"/> <span class="error">Fill details correctly!</span></div><div class="form-group"> <input type="submit" id="submit" value="send"/></div><div class="keyboard"><div class="keyboard-line"> <button class="keyboard-button">1</button> <button class="keyboard-button">2</button> <button class="keyboard-button">3</button> <button class="keyboard-button">4</button> <button class="keyboard-button">5</button> <button class="keyboard-button">6</button> <button class="keyboard-button">7</button> <button class="keyboard-button">8</button> <button class="keyboard-button">9</button> <button class="keyboard-button">0</button></div><div class="keyboard-line"> <button class="keyboard-button">q</button> <button class="keyboard-button">w</button> <button class="keyboard-button">e</button> <button class="keyboard-button">r</button> <button class="keyboard-button">t</button> <button class="keyboard-button">y</button> <button class="keyboard-button">u</button> <button class="keyboard-button">i</button> <button class="keyboard-button">o</button> <button class="keyboard-button">p</button></div><div class="keyboard-line"> <button class="keyboard-button">a</button> <button class="keyboard-button">s</button> <button class="keyboard-button">d</button> <button class="keyboard-button">f</button> <button class="keyboard-button">g</button> <button class="keyboard-button">h</button> <button class="keyboard-button">j</button> <button class="keyboard-button">k</button> <button class="keyboard-button">l</button></div><div class="keyboard-line"> <button class="keyboard-button special uppercase pos-rel"></button> <button class="keyboard-button">z</button> <button class="keyboard-button">x</button> <button class="keyboard-button">c</button> <button class="keyboard-button">v</button> <button class="keyboard-button">b</button> <button class="keyboard-button">n</button> <button class="keyboard-button">m</button> <button class="keyboard-button special backspace pos-rel"></button></div><div class="keyboard-line -last"> <button class="keyboard-button">-</button> <button class="keyboard-button">_</button> <button class="space"><div class="space-bar">Space</div> </button> <button class="keyboard-button">.</button> <button class="keyboard-button">@</button></div></div></form></div></div><div class="custom high-scores"><h3 class="scores">High Scores</h3><div class="score-card"><table class="scores-table"><thead><tr><th>Name</th><th>Time</th><th>Moves</th></tr></thead><tbody id="highScoresBody"></tbody></table></div></div><div class="feedback"></div></div>
<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-firestore.js"></script>
<script>
var Box=function(t,e){this.x=t,this.y=e};Box.prototype={getTopBox:function(){return 0===this.y?null:new Box(this.x,this.y-1)},getRightBox:function(){return 3===this.x?null:new Box(this.x+1,this.y)},getBottomBox:function(){return 3===this.y?null:new Box(this.x,this.y+1)},getLeftBox:function(){return 0===this.x?null:new Box(this.x-1,this.y)},getNextdoorBoxes:function(){return[this.getTopBox(),this.getRightBox(),this.getBottomBox(),this.getLeftBox()].filter(t=>null!==t)},getRandomNextdoorBox:function(){const t=this.getNextdoorBoxes();return t[Math.floor(Math.random()*t.length)]}};var State=function(t,e,i,n){this.grid=t,this.move=e,this.time=i,this.status=n};State.handleMove=function(){document.querySelectorAll(".grid button").forEach(t=>{var e=t.textContent;t.setAttribute("draggable",!0),t.setAttribute("ondragstart","this.click()"),e&&t.setAttribute("style","background-image:url(https://ke.jumia.is/cms/2019/J-PUZZLE/20th-dec/"+e+".jpg")})},State.ready=function(){return new State([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],0,0,"ready")},State.getRandomGrid=function(){let t=[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]],e=new Box(3,3);for(let i=0;i<1e3;i++){const i=e.getRandomNextdoorBox();State.swapBoxes(t,e,i),e=i}return State.isSolved(t)?State.getRandomGrid():t},State.swapBoxes=function(t,e,i){var n=t[e.y][e.x];t[e.y][e.x]=t[i.y][i.x],t[i.y][i.x]=n},State.start=function(){return new State(State.getRandomGrid(),0,0,"playing")},State.isSolved=function(t){return 1===t[0][0]&&2===t[0][1]&&3===t[0][2]&&4===t[0][3]&&5===t[1][0]&&6===t[1][1]&&7===t[1][2]&&8===t[1][3]&&9===t[2][0]&&10===t[2][1]&&11===t[2][2]&&12===t[2][3]&&13===t[3][0]&&14===t[3][1]&&15===t[3][2]&&0===t[3][3]};var Game=function(t){this.state=t,this.tickId=null,this.tick=this.tick.bind(this),this.render(),this.handleClickBox=this.handleClickBox.bind(this),this.timerTicker=document.getElementById("timerTicker"),this.form=document.querySelector("#game-over"),this.formDiv=document.querySelector(".formDiv")};Game.ready=function(){return new Game(State.ready())},Game.prototype={tick:function(){var t=parseInt(this.timerTicker.value,0);t+=1,this.timerTicker.value=t,document.getElementById("time").textContent=`Time: ${t}`},setState:function(t){this.state={...this.state,...t},this.render()},handleClickBox:function(t){return function(){const e=t.getNextdoorBoxes().find(t=>0===this.state.grid[t.y][t.x]);if(e){const i=[...this.state.grid];State.swapBoxes(i,t,e),State.isSolved(i)?(clearInterval(this.tickId),this.setState({status:"won",grid:i,move:this.state.move+1})):this.setState({grid:i,move:this.state.move+1})}}.bind(this)},newButton:function(t){var e=this,i=document.createElement("button");return i.setAttribute("draggable",!0),i.setAttribute("ondragstart","this.click()"),"ready"===t&&(i.textContent="Play"),"ready"===t&&i.setAttribute("id","playButton"),"playing"===t&&(i.textContent="Reset"),"won"===t&&(i.textContent="Play"),"won"===t&&i.setAttribute("id","playButton"),i.addEventListener("click",()=>{clearInterval(this.tickId),e.timerTicker.value=0,e.formDiv.classList.remove("active"),this.tickId=setInterval(this.tick,1e3),this.setState(State.start())}),i},render:function(){const{grid:t,move:e,status:i}=this.state,n=document.createElement("div");n.className="grid";for(let e=0;e<4;e++)for(let r=0;r<4;r++){const o=document.createElement("button");"playing"===i&&o.addEventListener("click",this.handleClickBox(new Box(r,e))),o.textContent=0===t[e][r]?"":t[e][r].toString(),n.appendChild(o)}document.querySelector(".grid").replaceWith(n);const r=this.newButton(i);document.querySelector(".footer button").replaceWith(r),document.getElementById("move").textContent=`Moves: ${e}`,document.getElementById("movesB").value=e,"won"===i?(document.querySelector(".howToPlay").style.display="none",this.formDiv.classList.add("active"),document.querySelector(".message").textContent="You win!"):(document.querySelector(".howToPlay").style.display="block",document.querySelector(".message").textContent=""),State.handleMove()}};var Main=function(){this.tbody=document.querySelector("#highScoresBody"),this.form=document.querySelector("#game-over"),this.formDiv=document.querySelector(".formDiv"),this.name=document.getElementById("name"),this.email=document.getElementById("email"),this.keyboardBtns=document.querySelectorAll(".keyboard-button:not(.special)"),this.error=document.querySelector(".error"),this.currentField="name",this.howToPlay=document.querySelector(".howToPlay"),this.firebaseConfig={apiKey:"AIzaSyAA8dQEt-yZnDyY3Lra8lndRJ3LWNYVW0o",authDomain:"jumia-c15a3.firebaseapp.com",databaseURL:"https://jumia-c15a3.firebaseio.com",projectId:"jumia-c15a3",storageBucket:"jumia-c15a3.appspot.com",messagingSenderId:"295115190934",appId:"1:295115190934:web:de0b33b53a514c3c"},this.db=null,this.interval=null,this.GAME=Game.ready(),this.qualifierEls=[]};Main.prototype={init:function(){firebase.initializeApp(this.firebaseConfig),this.db=firebase.firestore(),this.listeners()},listeners:function(){this.keyListeners(),this.dbListener()},keyListeners:function(){var t=this;this.keyboardBtns.forEach(e=>{e.addEventListener("click",function(i){i.preventDefault();var n=e.textContent,r=t.formDiv.querySelector(".focused");r||(r=t.formDiv.querySelector("input:first-child"));var o=r.value;r.value=o+n})});var e=document.querySelectorAll('input[type="text"]');e.forEach(t=>{t.addEventListener("focus",function(){e.forEach(t=>t.classList.remove("focused")),t.classList.add("focused")})}),document.querySelector(".uppercase").addEventListener("click",function(e){e.preventDefault(),t.keyboardBtns.forEach(t=>{var e=t.textContent;e=e===e.toLowerCase()?e.toUpperCase():e.toLowerCase(),t.textContent=e})}),document.querySelector(".backspace").addEventListener("click",function(e){e.preventDefault();var i=t.formDiv.querySelector(".focused");if(i){var n=i.value;n=n.substring(0,n.length-1),i.value=n}}),document.querySelector(".space-bar").addEventListener("click",function(e){e.preventDefault();var i=t.formDiv.querySelector(".focused");i||(i=t.formDiv.querySelector("input:first-child"));var n=i.value+" ";i.value=n}),document.getElementById("submit").addEventListener("click",function(e){e.preventDefault();var i=document.getElementById("name").value,n=document.getElementById("email").value;t.validateEmail(n)&&""!=i?(t.error.classList.remove("active"),t.formDiv.classList.remove("active"),t.sendData(),t.howToPlay.style.display="block",t.howToPlay.innerHTML='<div class="success">Your record has been submitted!</div>'):t.error.classList.add("active")})},validateEmail:function(t){return/\S+@\S+\.\S+/.test(t)},dbListener:function(){var t=this;this.db.collection("puzzle").onSnapshot(e=>{var i=[],n={};e.docChanges().forEach(t=>n=t.doc.data()),Object.keys(n).forEach(t=>i.push(n[t])),t.buildDataVisual(i)},t=>console.error(t.message))},appendMany2One:function(t,e){t.forEach(t=>e.appendChild(t))},setAttributes:function(t,e){Object.keys(e).forEach(i=>t.setAttribute(i,e[i]))},create:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=document.createElement(e);return this.setAttributes(o,i),this.setAttributes(o,n),r&&(o.innerHTML=r),o},isInQualifierEls:function(t){var e=this.qualifierEls.findIndex(e=>e.getAttribute("id")===t.email);return-1!==e&&this.qualifierEls[e]},buildDataVisual:function(t){this.createOrUpdateQualifierEl(t);var e=this.sortTable(this.qualifierEls);this.appendTable(e)},isAEqualB:function(t,e){return t.getAttribute("id")===e.getAttribute("id")},appendTable:function(t){var e=this;this.tbody.innerHTML="",t.forEach(t=>e.tbody.appendChild(t))},time:function(t){return t.querySelector(".-time").textContent},sortTable:function(t){var e=this;return[...t].sort((t,i)=>{var n=e.time(t),r=e.time(i);return parseInt(n)>parseInt(r)?1:-1})},createOrUpdateQualifierEl:function(t){var e=this;t.forEach(t=>{var i=e.isInQualifierEls(t);i?e.updateEl(t,i):e.createEl(t)})},createEl:function(t){var e={tr:["tr",{id:t.email},"",""],name:["td",{class:"-name"},"",t.name],time:["td",{class:"-time"},"",t.time],moves:["td",{class:"-moves"},"",t.moves]},i=this.create(e.tr),n=this.create(e.name),r=this.create(e.time),o=this.create(e.moves);this.appendMany2One([n,r,o],i),this.qualifierEls.push(i)},updateEl:function(t,e){e.querySelector(".-name").textContent=t.name,e.querySelector(".-time").textContent=t.time,e.querySelector(".-moves").textContent=t.moves},sendData:function(){var t=this.db.collection("puzzle"),e={},i={name:this.form.name.value,email:this.form.email.value,moves:+this.form.moves.value,time:+this.form.time.value,date:+new Date};e[i.email]=i,t.doc("data").set(e,{merge:!0}).then(t=>console.log("sent")).catch(t=>console.log(t))}};var main=new Main;main.init();
</script>